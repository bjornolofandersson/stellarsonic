---
import { CollectionEntry, getCollection } from 'astro:content';
import Archive from '@theme/Archive.svelte';
import PostPreview from '@theme/PostPreview.svelte';
import SiteHero from '@theme/SiteHero.svelte';
import { Gallery } from './Gallery';
import GalleryContainer from './GalleryContainer.astro';
import Paginator from '@theme/common/Paginator.svelte';
import { Page } from 'astro';

interface Props extends Gallery {
  page: Page;
}

const config = Astro.props;
const { collection, pagination, page, path } = config;
---

<GalleryContainer {...config}>
  <Archive page={{}} genres={[]}>
    <SiteHero slot="header"/>

    {pagination && <Paginator slot="paginator" page={page} path={path}/>}

    <Fragment slot="posts">
      {page.data.map(({data, slug}: any) =>
        <PostPreview collection={collection} post={data} slug={slug} />
      )}
    </Fragment>
  </Archive>
</GalleryContainer>
